function delayOnRun(n,t){var i=null;return function(){var r=this,u=arguments;clearTimeout(i);i=window.setTimeout(function(){n.apply(r,u)},t||1e3)}}function removeURLParameter(n,t){const i=n.split("?");if(i.length>=2){const u=encodeURIComponent(t)+"=",r=i[1].split(/[&;]/g);for(let n=r.length;n-->0;)r[n].lastIndexOf(u,0)!==-1&&r.splice(n,1);return n=i[0]+"?"+r.join("&")}return n}function toggleResultShown(n,t){const i=$(n).is(t.target);if(i||$(n).has(t.target).length!==0||$(n).addClass("d-none"),i){const t=$(n).parent(),i=$(".result > .items > li",t).not(".template");i.length>0&&$(n).removeClass("d-none")}}function resetIdEvent(n,t){const i=$(n).parent(),r=$(".result > .items",i);cleanResult(r);t.apply()}function foundItemEvent(n,t){const i=$(t).parent(),r=$(t).attr("data-id");$(n).val(r).trigger("change");$(i).addClass("d-none")}function cleanResult(n){$("> li",n).not(".template").remove()}function removeJson(n,t){$(n).val()===""&&$(n).val("[]");const r=$(n).val(),i=$.parseJSON(r);console.log("IndexToDelete:",t);i.splice(t,1);$(n).val(JSON.stringify(i)).trigger("change")}function addJson(n,t,i){($(n).val()===""||$(n).val()===null)&&$(n).val("[]");console.log("item to AddToJson:",t);const u=$(n).val();console.log("jsonElement:",n,"jsonString:",u);const r=$.parseJSON(u),f=r.findIndex(i)>=0;if(!f){r.push(t);const e=JSON.stringify(r);$(n).val(e).trigger("change")}}function wordifyfa(n,t){"use strict";if(n===null)return"";if(n===0)return t===0?"صفر":"";var i="";return t>0&&(i+=" و ",t-=1),n<10?i+=[" یک "," دو "," سه "," چهار "," پنج "," شش "," هفت "," هشت "," نه "][n-1]:n<20?i+=[" ده "," یازده "," دوازده "," سیزده "," چهارده "," پانزده "," شانزده "," هفده "," هیجده "," نوزده "][n-10]:n<100?i+=[" بیست "," سی "," چهل "," پنجاه "," شصت "," هفتاد "," هشتاد "," نود "][parseInt(n/10,10)-2]+wordifyfa(n%10,t+1):n<1e3?i+=[" یکصد "," دویست "," سیصد "," چهارصد "," پانصد "," ششصد "," هفتصد "," هشتصد "," نهصد "][parseInt(n/100,10)-1]+wordifyfa(n%100,t+1):n<1e6?i+=wordifyfa(parseInt(n/1e3,10),t)+" هزار "+wordifyfa(n%1e3,t+1):n<1e9?i+=wordifyfa(parseInt(n/1e6,10),t)+" میلیون "+wordifyfa(n%1e6,t+1):n<1e12?i+=wordifyfa(parseInt(n/1e9,10),t)+" میلیارد "+wordifyfa(n%1e9,t+1):n<1e15&&(i+=wordifyfa(parseInt(n/1e12,10),t)+" تریلیارد "+wordifyfa(n%1e12,t+1)),i}function showLoadingModal(){const n=document.createElement("div");$(n).addClass("modal fade");$(n).attr("id","loadingModal");$(n).attr("data-backdrop","static");$(n).attr("data-keyboard","false");$(n).attr("tabindex","-1");const t=document.createElement("div");$(t).addClass("modal-dialog").addClass("modal-sm");const i=document.createElement("div");$(i).addClass("modal-content justify-content-center flex-row");const u=document.createElement("div");$(u).addClass("spinner-grow");const r=document.createElement("span");return $(r).addClass("title"),$(r).html("لطفا کمی صبر کنید"),$(i).append(u).append(r),$(t).append(i),$(n).append(t),$(n)}$(document).ready(function(){$("#pageSTATUS .close").on("click",function(){if(location.href.includes("?")){const r=location.href.split("?"),[,u]=r,f=u.split("&");var n=[],t=0;$.each(f,(i,r)=>{const[u,f]=r.split("=");u!=="status"&&(n[t]=`${u}=${f}`,t++)});const i=n.join("&");console.log("Array: ",n,"QueryString: ",i);history.pushState({},document.title,`?${i}`);$("#pageSTATUS").remove()}});$("a.sectiongoto").on("click",function(n){if(this.hash!==""){n.preventDefault();const t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},800,function(){window.location.hash=t})}});$(document).on("click","[data-confirm]",function(n){if(!confirm($(this).attr("data-confirm")))return n.preventDefault(),n.stopPropagation(),!1});$(".lazy").lazy({effect:"fadeIn",visibleOnly:!0,onError:function(n){console.log(`error loading ${n.data("src")}`)}});$(".no-enter").keypress(function(n){const t=n.keyCode?n.keyCode:n.which;if(t===13)return n.preventDefault(),!1});$('[data-toggle="tooltip"]').tooltip()});$("#mainNavBar > .navbar-toggler").click(function(){$(".backdrop").toggleClass("in");$("#navbarNavDropdown").toggleClass("in")});$(".backdrop").click(function(){$(this).hasClass("in")&&($(".backdrop").removeClass("in"),$("#navbarNavDropdown").removeClass("in"),console.log("backdrop clicked"))});$(".sidenav.in").on("swiperight",function(){console.log("sidenav clicked");$(".backdrop").trigger("click")});$(document).ready(function(){$(".page-link").click(function(n){var t,i,u;n.preventDefault();const r=parseInt($(this).html()),l=location.href.split("?");[t,i]=l;t.endsWith("#")&&(t=t.split("#")[0]);u=[];i!==undefined&&i!==""&&i!==null&&(u=i.split("&"));console.log("caughtParams",u);var f=[],e=0,a={},s=0,h=!0;$.each(u,(n,t)=>{var[u,i]=t.split("=");i.endsWith("#")&&(i=i.split("#")[0]);u==="pageNo"&&(s=parseInt(i),i=r,h=!1);a[u]=i;f[e]=`${u}=${i}`;e++});h&&(f[e]=`pageNo=${r}`);console.log("currentPageNo",s,"nextPageNo",r);console.log("newParams",f);const c=f.join("&"),o=`${t}?${c}`;if(console.log(o),typeof history.pushState=="undefined")window.location.href=o;else{console.log("Start to get pageItems");const n=showLoadingModal();$("body").append(n);$("#loadingModal").modal("show");$(".grid").fadeOut("slow",function(){$(".grid").load(`${t}?handler=Page&${c}`,(n,t,i)=>{if(i.status===200){const n=$(".pagination").children();$.each(n,(n,t)=>{const i=parseInt($(".page-link",t).text());i===r?$(t).addClass("active"):$(t).hasClass("active")&&$(t).removeClass("active")});const t=$("#paginatedList").position().top;$("html,body").animate({scrollTop:t},"slow");console.log("Finished pageItems");window.history.pushState({},"",o);$("#loadingModal").modal("hide");$(".grid").fadeIn("slow")}})})}});$(".page-link",".page-item.active").trigger("click")});