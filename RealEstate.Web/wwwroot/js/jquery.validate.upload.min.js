$(function(){function n(n){return/[.]/.exec(n)?/[^.]+$/.exec(n)[0].toLowerCase():null}$.validator.unobtrusive.adapters.add("filetype",["validtypes"],function(n){n.rules.filetype={validtypes:n.params.validtypes.split(",")};n.messages.filetype=n.message});$.validator.addMethod("filetype",function(t,i,r){for(var f,u=0;u<i.files.length;u++)if(f=n(i.files[u].name),$.inArray(f,r.validtypes)===-1)return!1;return!0})});